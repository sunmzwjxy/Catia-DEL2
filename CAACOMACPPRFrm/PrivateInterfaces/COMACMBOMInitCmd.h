//===================================================================
// COPYRIGHT DS 2021/11/30
//===================================================================
// COMACMBOMInitCmd.cpp
// Header definition of class COMACMBOMInitCmd
//===================================================================
//
// Usage notes:
//
//===================================================================
//  2021/11/30 Creation: Code generated by the 3DS wizard
//===================================================================

#ifndef COMACMBOMInitCmd_H
#define COMACMBOMInitCmd_H

//DialogEngine 
#include "CATStateCommand.h"
#include "CATBoolean.h"

#include "COMACMBOMInitDlg.h"

//CATPLMComponentInterfaces 
#include "CATIPLMNavReference.h"
#include "CATIPLMNavOccurrence.h"
//ProductStructureUseItf 
#include "CATIPLMProducts.h"
//DELPPRProcessItf 
#include "DELIPPRProcessAuth.h"
//System
#include "CATUnicodeString.h"
//ObjectModelerBase 
#include "CATOmbLifeCycleRootsBag.h"

#include <vector>
//----------------------------------------------------------------------

/**
* Describe your command here.
* <p>
* Using this prefered syntax will enable mkdoc to document your class.
* <p>
* refer to programming resources of Dialog engine framework.
* (consult base class description).
*/
class COMACMBOMInitCmd: public CATStateCommand
{
// Allows customization/internationalization of command's messages
// ---------------------------------------------------------------
DeclareResource( COMACMBOMInitCmd, CATStateCommand )

public:
COMACMBOMInitCmd();
virtual ~COMACMBOMInitCmd();

/**
* Defines the command automata.
* <br>
* <i>(states, transitions and agents)</i>
*/
virtual void     BuildGraph();

void InitDlg(CATUnicodeString strUserID);

void OnCancelAction();

void OnOKAction();

CATIPLMProducts_var CreatePPRProduct(CATOmbLifeCycleRootsBag& ioBag, CATUnicodeString strPPRTitle);

CATIPLMProducts_var CreateProduct(CATUnicodeString iStrType, CATUnicodeString iPrdTitle);

CATIPLMNavReference_var CreateResource(CATUnicodeString iStrType, CATUnicodeString iResourceTitle);

CATIPLMNavReference_var CreateSubResource(CATUnicodeString iStrType, CATUnicodeString iResourceTitle);

CATIPLMNavReference_var CreatePPRProcess(CATUnicodeString iStrType, CATUnicodeString iProcessTitle);

CATIPLMNavReference_var CreateWorkPlan(CATUnicodeString iStrType, CATUnicodeString iWorkPlanTitle);

void CreateSubMBOMStructure(DELIPPRProcessAuth_var& hPPRProcessAuth, CATIPLMNavReference_var& ispRootMBOMRef, CATIPLMNavOccurrence_var& spMBOMOcc, CATIPLMNavOccurrence_var& spPrdOcc);

private:

	COMACMBOMInitDlg* _Dlg;

	CATUnicodeString _strMPRitle;
	CATUnicodeString _majRevision;

	std::vector<FOTask> _FOVect;

	CATUnicodeString SecurityContext;
	CATUnicodeString _serverUrl;
};

//----------------------------------------------------------------------

#endif
