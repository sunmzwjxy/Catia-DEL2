//===================================================================
// COPYRIGHT  2020/09/16
//===================================================================
// CMCreateGWSystemCmd.cpp
// Header definition of class CMCreateGWSystemCmd
//===================================================================
//
// Usage notes:
//
//===================================================================
//  2020/09/16 Creation: Code generated by the 3DS wizard
//===================================================================

#ifndef CMCreateGWSystemCmd_H
#define CMCreateGWSystemCmd_H

#include "ProcessPlanningService.h"
#include "CATStateCommand.h"
#include "CATSysBoolean.h"
#include "CATDialogAgent.h"

#include "iostream.h"

#include "CMSystemGWDlg.h"
#include "CATPathElementAgent.h"

//CATPLMComponentInterfaces 
#include "CATIPLMNavReference.h"
#include "CATIPLMNavOccurrence.h"
#include "CATIPLMNavRepInstance.h"


//VisualizationInterfaces 
#include "CATPathElement.h"


//CATPLMConfigUseItf 
#include "CATIConfiguration.h"
#include "CATIConfiguredEntity.h"
#include "CATConfigLoadingServices.h"
#include "CATIConfiguredEntityAuthoring.h"
#include "CATListPtrCATIConfiguration.h"
#include "CATListPtrCATIConfigFilterable.h"
#include "CATListPtrCATIConfigPLMEntity.h"
#include "CATListPtrCATIConfigDictionary.h"
#include "CATConfigXMLContentError.h"
#include "CATIConfigEffectivityExpression.h"
#include "CATIConfigPLMEntity.h"
#include "CATListPtrCATIConfigEffectivityExpression.h"
#include "CATListValCATConfigXMLExpressionStruct.h"
#include "CATConfigXMLExpressionStruct.h"
#include "CATConfigXMLExpressionServices.h"
#include "CATListPtrCATIAdpPLMIdentificator.h"
#include "CATListPtrCATIPLMNavReference.h"
#include "PPRUtity.h"
//-----------------------------------------------------------------------

class CMCreateGWSystemCmd: public CATStateCommand
{
	DeclareResource(CMCreateGWSystemCmd, CATStateCommand)

public:
// Standard constructors and destructors
// -------------------------------------
CMCreateGWSystemCmd ();
virtual ~CMCreateGWSystemCmd ();

//
// TODO: Add your methods for this class here.
virtual void     BuildGraph();

/**
* Action associated to state transitions.
*/
virtual CATBoolean  ActionOne(void * data);

virtual CATBoolean OKAction(void *data);

virtual CATBoolean ApplyAction(void *data);

virtual CATBoolean CancelAction(void *data);

CATBoolean CheckInputCode(int code);

CATBoolean CheckGWSelect();

CATBoolean ElementSelection(void * data);

CATBoolean BtnSelectMIDComponent(void * data);

CATBoolean BtnSelectGWFather(void * data);

CATBoolean SelectMIDComponent(void * data);

CATBoolean SelectGWFather(void * data);

void FilterSelectObject();

HRESULT CreateDELGWSystem();

CATUnicodeString sApplyGWCode;
//

private:
// Copy constructor and equal operator
// -----------------------------------
CMCreateGWSystemCmd (CMCreateGWSystemCmd &);
CMCreateGWSystemCmd& operator=(CMCreateGWSystemCmd&);

CATBoolean Init(void *data);

PPRUtity spPPRUtity;

CMSystemGWDlg *_Panel;

CATDialogAgent *_OKAgent;
CATDialogAgent *_ApplyAgent;
CATDialogAgent *_CancleAgent;
CATDialogAgent *_CloseAgent;

CATDialogAgent *_BtnSelectMIDCompAgent;
CATDialogAgent *_BtnSelectGWFatherAgent;



CATPathElementAgent *_SelectMIDCompAgent;
CATPathElementAgent *_SelectGWFatherAgent;

CATPathElementAgent *_pSelectAgent;

CATBaseUnknown        * _pSelectedElement;
CATIPLMNavRepInstance * _pSelectedRepInstance;
CATIPLMNavOccurrence  * _pSelectedOccurrence;
CATIPLMNavReference   * _pSelectedReference;

CATUnicodeString sInputGWExternalID;

CATUnicodeString sInputGWName;

CATUnicodeString sInputEffecivity;

CATIPLMNavReference * pMIDComponentRef;
CATIPLMNavInstance * pMIDCompInstance;
CATIPLMNavOccurrence * pMIDComponentOcc;
CATIPLMNavReference * pMIDFatherCompRef;

CATIPLMNavReference * pGWFatherRef;
CATIPLMNavOccurrence * pGWFatherOcc;

};

//-----------------------------------------------------------------------

#endif
